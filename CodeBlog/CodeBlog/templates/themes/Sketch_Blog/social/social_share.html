{% load wagtailcore_tags %}

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-facebook-square" viewBox="0 0 24 28">
<title>facebook-square</title>
<path d="M19.5 2c2.484 0 4.5 2.016 4.5 4.5v15c0 2.484-2.016 4.5-4.5 4.5h-2.938v-9.297h3.109l0.469-3.625h-3.578v-2.312c0-1.047 0.281-1.75 1.797-1.75l1.906-0.016v-3.234c-0.328-0.047-1.469-0.141-2.781-0.141-2.766 0-4.672 1.687-4.672 4.781v2.672h-3.125v3.625h3.125v9.297h-8.313c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-twitter-square" viewBox="0 0 24 28">
<title>twitter-square</title>
<path d="M20 9.531c-0.594 0.266-1.219 0.438-1.891 0.531 0.688-0.406 1.203-1.062 1.453-1.828-0.641 0.375-1.344 0.656-2.094 0.797-0.594-0.641-1.453-1.031-2.391-1.031-1.813 0-3.281 1.469-3.281 3.281 0 0.25 0.016 0.516 0.078 0.75-2.734-0.141-5.156-1.437-6.781-3.437-0.281 0.484-0.453 1.062-0.453 1.656 0 1.141 0.531 2.141 1.422 2.734-0.547-0.016-1.062-0.172-1.563-0.406v0.031c0 1.594 1.203 2.922 2.703 3.219-0.281 0.078-0.5 0.125-0.797 0.125-0.203 0-0.406-0.031-0.609-0.063 0.422 1.297 1.625 2.25 3.063 2.281-1.125 0.875-2.531 1.406-4.078 1.406-0.266 0-0.531-0.016-0.781-0.047 1.453 0.922 3.172 1.469 5.031 1.469 6.031 0 9.344-5 9.344-9.344 0-0.141 0-0.281-0.016-0.422 0.641-0.453 1.203-1.031 1.641-1.703zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-linkedin-square" viewBox="0 0 24 28">
<title>linkedin-square</title>
<path d="M3.703 22.094h3.609v-10.844h-3.609v10.844zM7.547 7.906c-0.016-1.062-0.781-1.875-2.016-1.875s-2.047 0.812-2.047 1.875c0 1.031 0.781 1.875 2 1.875h0.016c1.266 0 2.047-0.844 2.047-1.875zM16.688 22.094h3.609v-6.219c0-3.328-1.781-4.875-4.156-4.875-1.937 0-2.797 1.078-3.266 1.828h0.031v-1.578h-3.609s0.047 1.016 0 10.844v0h3.609v-6.062c0-0.313 0.016-0.641 0.109-0.875 0.266-0.641 0.859-1.313 1.859-1.313 1.297 0 1.813 0.984 1.813 2.453v5.797zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-google-plus-square" viewBox="0 0 24 28">
<title>google-plus-square</title>
<path d="M14.328 14.141c0-0.391-0.047-0.703-0.094-1h-5.656v2.063h3.391c-0.125 0.875-1.016 2.578-3.391 2.578-2.063 0-3.734-1.687-3.734-3.781s1.672-3.781 3.734-3.781c1.156 0 1.937 0.484 2.391 0.922l1.625-1.578c-1.047-0.969-2.406-1.563-4.016-1.563-3.328 0-6 2.688-6 6s2.672 6 6 6c3.453 0 5.75-2.438 5.75-5.859zM19.719 14.859h1.703v-1.719h-1.703v-1.719h-1.719v1.719h-1.719v1.719h1.719v1.719h1.719v-1.719zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-reddit-square" viewBox="0 0 24 28">
<title>reddit-square</title>
<path d="M14.672 17.641c0.109 0.109 0.109 0.297 0 0.406-0.766 0.766-2.234 0.828-2.672 0.828s-1.906-0.063-2.672-0.828c-0.109-0.109-0.109-0.297 0-0.406 0.109-0.125 0.297-0.125 0.406 0 0.484 0.484 1.531 0.656 2.266 0.656s1.781-0.172 2.266-0.656c0.109-0.125 0.297-0.125 0.406 0zM10.563 15.203c0 0.656-0.547 1.203-1.203 1.203s-1.203-0.547-1.203-1.203c0-0.672 0.547-1.203 1.203-1.203s1.203 0.531 1.203 1.203zM15.844 15.203c0 0.656-0.547 1.203-1.203 1.203s-1.203-0.547-1.203-1.203c0-0.672 0.547-1.203 1.203-1.203s1.203 0.531 1.203 1.203zM19.203 13.594c0-0.875-0.719-1.594-1.609-1.594-0.438 0-0.844 0.187-1.141 0.484-1.094-0.75-2.562-1.234-4.172-1.281l0.844-3.797 2.672 0.609c0.016 0.656 0.547 1.188 1.203 1.188s1.203-0.547 1.203-1.203-0.547-1.203-1.203-1.203c-0.469 0-0.875 0.266-1.078 0.672l-2.953-0.656c-0.156-0.047-0.297 0.063-0.328 0.203l-0.938 4.188c-1.609 0.063-3.063 0.547-4.141 1.297-0.297-0.313-0.703-0.5-1.156-0.5-0.891 0-1.609 0.719-1.609 1.594 0 0.641 0.375 1.188 0.906 1.453-0.047 0.234-0.078 0.5-0.078 0.75 0 2.547 2.859 4.609 6.391 4.609s6.406-2.063 6.406-4.609c0-0.266-0.031-0.516-0.094-0.766 0.516-0.266 0.875-0.812 0.875-1.437zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-envelope-square" viewBox="0 0 24 28">
<title>envelope-square</title>
<path d="M19.5 2c2.484 0 4.5 2.016 4.5 4.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15zM20 18.5v-6.813c-0.297 0.328-0.625 0.625-1 0.859-1.469 0.969-2.984 1.875-4.438 2.875-0.734 0.516-1.641 1.078-2.562 1.078v0 0 0 0c-0.922 0-1.828-0.562-2.562-1.078-1.453-1-2.984-1.891-4.438-2.891-0.359-0.234-0.641-0.578-1-0.844v6.813c0 0.828 0.672 1.5 1.5 1.5h13c0.828 0 1.5-0.672 1.5-1.5zM20 9.547c0-0.844-0.625-1.547-1.5-1.547h-13c-0.828 0-1.5 0.672-1.5 1.5 0 0.844 0.875 1.766 1.531 2.203 1.375 0.922 2.797 1.781 4.172 2.688 0.594 0.391 1.578 1.109 2.297 1.109s1.703-0.719 2.297-1.109c1.391-0.906 2.781-1.797 4.172-2.719 0.609-0.406 1.531-1.344 1.531-2.125z"></path>
</symbol>
</defs>
</svg>

<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-pinterest" viewBox="0 0 24 28">
<title>pinterest</title>
<path d="M24 14c0 6.625-5.375 12-12 12-1.188 0-2.312-0.172-3.406-0.5 0.453-0.719 0.969-1.641 1.219-2.562 0 0 0.141-0.531 0.844-3.297 0.406 0.797 1.625 1.5 2.922 1.5 3.859 0 6.484-3.516 6.484-8.234 0-3.547-3.016-6.875-7.609-6.875-5.688 0-8.563 4.094-8.563 7.5 0 2.063 0.781 3.906 2.453 4.594 0.266 0.109 0.516 0 0.594-0.313 0.063-0.203 0.187-0.734 0.25-0.953 0.078-0.313 0.047-0.406-0.172-0.672-0.484-0.578-0.797-1.313-0.797-2.359 0-3.031 2.266-5.75 5.906-5.75 3.219 0 5 1.969 5 4.609 0 3.453-1.531 6.375-3.813 6.375-1.25 0-2.188-1.031-1.891-2.312 0.359-1.516 1.062-3.156 1.062-4.25 0-0.984-0.531-1.813-1.625-1.813-1.281 0-2.312 1.328-2.312 3.109 0 0 0 1.141 0.391 1.906-1.313 5.563-1.547 6.531-1.547 6.531-0.219 0.906-0.234 1.922-0.203 2.766-4.234-1.859-7.187-6.078-7.187-11 0-6.625 5.375-12 12-12s12 5.375 12 12z"></path>
</symbol>
</defs>
</svg>

<div class="p-3 sketch-border bg-light social-share-bar">
    {% with settings.social.SocialSettings as social_settings %}
    <span class="d-block text-center"><h4>Did you find this article helpful?</h4> There's
    a good chance someone else may find it interesting too. Why not <b>share
    it</b> and help a stranger. We'll all appreciate your goodwill. Thanks for reading!
    </span>
        <div class='text-center py-2'>
        {% if social_settings.fb_share %} 
                <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri  }}">
                <svg class="icon icon-facebook-square social-share-icon trans-ease grow" style="color: #3b5998;">
                <use xlink:href="#icon-facebook-square">
                </use>
                </svg>
                </a>
        {% endif %}

        {% if social_settings.twitter_share %}
                <a target="_blank" href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri  }}">
                <svg class="icon icon-twitter-square social-share-icon trans-ease grow" style="color: #0084b4;">
                <use xlink:href="#icon-twitter-square">
                </use>
                </svg>
                </a>
        {% endif %}

        {% comment %} {% if social_settings.google_share %}
                <a targer="_blank" href="https://plus.google.com/share?url={{ request.build_absolute_uri  }}">
                <svg class="icon icon-google-plus-square social-share-icon trans-ease grow" style="color: #d34836;">
                <use xlink:href="#icon-google-plus-square">
                </use>
                </svg>
                </a>
        {% endif %} {% endcomment %}

        {% if social_settings.linkedin_share %}
                <a target="_blank" href="https://www.linkedin.com/shareArticle?url={{ request.build_absolute_uri  }}&title={{ self.title }}&summary={{ self.summary }}">
                <svg class="icon icon-linkedin-square social-share-icon trans-ease grow" style="color:  #0e76a8 ;">
                <use xlink:href="#icon-linkedin-square">
                </use>
                </svg>
                </a>
        {% endif %}

        {% if social_settings.reddit_share %}
                <a target="_blank" href="http://reddit.com/submit?url={{ request.build_absolute_uri  }}">
                <svg class="icon icon-reddit-square social-share-icon trans-ease grow" style="color:  #FF5700 ;">
                <use xlink:href="#icon-reddit-square">
                </use>
                </svg>
                </a>
        {% endif %}

        {% if social_settings.email_share %}
                <a href="mailto:?subject={{ self.title }}&body={{ request.build_absolute_uri  }}>{{ self.title }}</a> ">
                <svg class="icon icon-envelope-square social-share-icon trans-ease grow" style="color:  #000 ;">
                <use xlink:href="#icon-envelope-square">
                </use>
                </svg>
                </a>
        {% endif %}
        </div>

        <iframe class="m-0 fb-like-btn" 
        src="https://www.facebook.com/plugins/like.php?href={{ request.build_absolute_uri  }}
        &width=63&layout=button&action=like&size=large&show_faces=true&share=false&height=65&appId=2214654625526235" width="63" height="65" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media"></iframe>
    {% endwith %}
</div>

<script async defer>

(function(){

    var article = document.getElementById('article');
    var images = Array.from(article.querySelectorAll('img'));

    var imgIndex = 0;
    for(imgIndex = 0; imgIndex < images.length; imgIndex++){

        var img = images[imgIndex];
        
        // wrap the image in a div
        var parent = img.parentNode;
        var wrapper = document.createElement('div');
        parent.replaceChild(wrapper, img);
        wrapper.appendChild(img);
        //wrapper.style.overflow = 'hidden'; 
        wrapper.style.position = 'relative';

        // create pintrest 
        var pinBtn = document.createElement('a');
        pinBtn.href = 'https://pinterest.com/pin/create/button/?url='+ img.src;
        pinBtn.target = '_blank';
        pinBtn.innerHTML = '<svg class="icon icon-pinterest trans-ease grow" style="color: #c8232c"><use xlink:href="#icon-pinterest"></use></svg><span class="pin-text">Pin It!</span>';
        pinBtn.classList.add('pin-btn-overlay');
        pinBtn.classList.add('bg-light');
        pinBtn.classList.add('sketch-border');
        pinBtn.classList.add('p-1');
        pinBtn.classList.add('m-1');
        //pintBtn.style.fontSize = '1.5em';

        // insert pin button into wrapper 
        wrapper.appendChild(pinBtn);
    }

})();

</script>